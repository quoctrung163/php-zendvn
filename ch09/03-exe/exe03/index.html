
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>AJAX</title>
	<link rel="stylesheet" type="text/css" href="css/styles.css">
	<script type="text/javascript" src="../js/jquery-1.10.2.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {			
			var pos  = 0;
			var item = 2;
			var url  = 'data.php?pos='+ pos +'&item='+ item +'';

			$("div.list").load(url);
			$("a.load-more").click(function() {
				pos += 1;
				var dataSend = {'pos' : pos + 1, 'item' : 1};
				$.get(url, dataSend, function(data) {
					if (data.length > 2) {
						console.log(data.length);
						$("div.list div.item:last").after(data);
					} else {
						$("a.load-more").remove();
					}					
				});
				return false;
			});
		});
	</script>
</head>
<body>
	<div id="wrapper">
		<div class="title">Ajax - Load</div>
		<div class="list">  
			<div class="item">
				<h3>Title</h3>
				<p>Content</p>
			</div>
		</div>
		<a class="load-more" href="#">Load more</a>
    </div>
</body>
</html>
